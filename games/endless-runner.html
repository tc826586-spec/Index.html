<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Tic Tac Toe</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#1a2a3a,#05070c);
  font-family:Arial,Helvetica,sans-serif;
  color:#fff;
}

.container{
  background:#0e1525;
  padding:20px;
  border-radius:16px;
  box-shadow:0 30px 60px rgba(0,0,0,.7);
  width:340px;
  text-align:center;
}

h1{
  margin:10px 0;
}

.mode button{
  margin:5px;
  padding:8px 14px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  background:#00ffd5;
  color:#000;
}

.status{
  margin:10px 0;
  font-weight:bold;
}

.board{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  perspective:800px;
  margin:15px 0;
}

.cell{
  height:90px;
  background:linear-gradient(#2b3a55,#121a2f);
  border-radius:12px;
  font-size:2.5rem;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  transform-style:preserve-3d;
  box-shadow:
    inset 0 4px 8px rgba(255,255,255,.15),
    inset 0 -6px 10px rgba(0,0,0,.6),
    0 10px 20px rgba(0,0,0,.6);
  transition:.25s;
}

.cell:hover{
  transform:rotateX(10deg) rotateY(-10deg);
}

.cell.taken{
  cursor:default;
}

.cell.X{
  color:#00ffd5;
  text-shadow:0 0 10px #00ffd5;
}

.cell.O{
  color:#ff5c8a;
  text-shadow:0 0 10px #ff5c8a;
}

.reset{
  padding:8px 18px;
  border:none;
  border-radius:8px;
  background:#ff4757;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="container">
  <h1>3D Tic Tac Toe</h1>

  <div class="mode">
    <button onclick="setMode('ai')">VS Computer</button>
    <button onclick="setMode('two')">Two Players</button>
  </div>

  <div class="status" id="status">Choose a mode</div>

  <div class="board" id="board"></div>

  <button class="reset" onclick="resetGame()">Restart</button>
</div>

<script>
const boardEl=document.getElementById("board");
const statusEl=document.getElementById("status");

let board=["","","","","","","","",""];
let current="X";
let gameOn=false;
let mode="";

const wins=[
 [0,1,2],[3,4,5],[6,7,8],
 [0,3,6],[1,4,7],[2,5,8],
 [0,4,8],[2,4,6]
];

function setMode(m){
 mode=m;
 resetGame();
 gameOn=true;
 statusEl.textContent=current+"'s turn";
}

function drawBoard(){
 boardEl.innerHTML="";
 board.forEach((v,i)=>{
  let c=document.createElement("div");
  c.className="cell";
  if(v){
    c.textContent=v;
    c.classList.add(v,"taken");
  }
  c.onclick=()=>move(i);
  boardEl.appendChild(c);
 });
}

function move(i){
 if(!gameOn||board[i])return;
 board[i]=current;
 drawBoard();

 if(checkWin(current)){
   statusEl.textContent=current+" wins!";
   gameOn=false;
   return;
 }

 if(board.every(c=>c)){
   statusEl.textContent="Draw!";
   gameOn=false;
   return;
 }

 current=current==="X"?"O":"X";
 statusEl.textContent=current+"'s turn";

 if(mode==="ai" && current==="O"){
   setTimeout(aiMove,400);
 }
}

function aiMove(){
 let empty=board.map((v,i)=>v==""?i:null).filter(i=>i!=null);
 let pick=empty[Math.floor(Math.random()*empty.length)];
 move(pick);
}

function checkWin(p){
 return wins.some(w=>w.every(i=>board[i]===p));
}

function resetGame(){
 board=["","","","","","","","",""];
 current="X";
 gameOn=true;
 drawBoard();
 statusEl.textContent="X's turn";
}

drawBoard();
</script>

</body>
</html>
