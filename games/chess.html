<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>2D Chess</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  background:#020617;
  color:white;
  font-family:Arial;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

.board{
  display:grid;
  grid-template-columns:repeat(8,50px);
  width:400px;
  margin:auto;
}
.square{
  width:50px;
  height:50px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  cursor:pointer;
}
.light{background:#eee}
.dark{background:#555;color:white}

.hint{
  background:lime !important;
}
.selected{
  outline:3px solid yellow;
}

button{
  margin:6px;
  padding:8px 14px;
  border:none;
  border-radius:6px;
  background:#22d3ee;
  font-weight:bold;
}
</style>
</head>

<body>

<h2>Chess vs AI</h2>

<div id="board" class="board"></div>

<div id="status">Your move</div>

<button onclick="reset()">Restart</button>
<button onclick="location.href='../index.html'">Back</button>

<script>
document.addEventListener("DOMContentLoaded", () => {

const board = document.getElementById("board");
let selected = null;
let hints = [];

let pieces = [
"♜","♞","♝","♛","♚","♝","♞","♜",
"♟","♟","♟","♟","♟","♟","♟","♟",
"","","","","","","","",
"","","","","","","","",
"","","","","","","","",
"","","","","","","","",
"♙","♙","♙","♙","♙","♙","♙","♙",
"♖","♘","♗","♕","♔","♗","♘","♖"
];

function draw(){
  board.innerHTML="";
  pieces.forEach((p,i)=>{
    const s=document.createElement("div");
    s.className="square "+(((i+Math.floor(i/8))%2)?"dark":"light");
    if(i===selected)s.classList.add("selected");
    if(hints.includes(i))s.classList.add("hint");
    s.textContent=p;
    s.onclick=()=>click(i);
    board.appendChild(s);
  });
}

function click(i){
  if(selected===null && pieces[i]!==""){
    selected=i;
    showHints(i);
  }else if(hints.includes(i)){
    pieces[i]=pieces[selected];
    pieces[selected]="";
    selected=null;
    hints=[];
  }else{
    selected=null;
    hints=[];
  }
  draw();
}

function showHints(i){
  hints=[];
  let r=Math.floor(i/8), c=i%8;
  [[1,0],[-1,0],[0,1],[0,-1]].forEach(d=>{
    let nr=r+d[0], nc=c+d[1];
    if(nr>=0&&nr<8&&nc>=0&&nc<8){
      hints.push(nr*8+nc);
    }
  });
}

draw();
});
</script>

</body>
</html>
